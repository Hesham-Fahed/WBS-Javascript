{% if page.url != '/' %}
  {% assign prefix = '..' %}
{% endif %}

<div class="home">
  {% assign pagelist = site[include.chapter] | sort: 'order' %}

  <h1 class="page-heading">{{ include.chapter | upcase }}</h1>

  <ul class="post-list toc">

    {% for page in pagelist %}

      <li>
        <a class="toc-link" href="{{ prefix }}{{ page.url }}.html">
          {{ forloop.index }}. {{ page.title }}
        </a>

        {% if site.baseurl == '/webdev' %}
          &nbsp;&nbsp;
          {% if page.examples %}
            <a class="toc-link" href="{{ site.data.config.github-repo }}/{{ include.chapter }}/examples/{{ page.slug | replace: '-','_' }}.php">
              <i class="fa fa-bicycle"></i>
            </a>
          {% endif %}
          {% if page.exercises %}
          <a class="toc-link" href="{{ site.data.config.github-repo }}/{{ include.chapter }}/exercises/{{ page.slug | replace: '-','_' }}.php">
            <i class="fa fa-recycle"></i>
          </a>
          {% endif %}
        {% else %}
          {% if page.examples %}
            <a class="toc-link" href="../../../{{ include.chapter }}/examples/{{ page.slug | replace: '-','_' }}.php">
              <i class="fa fa-bicycle"></i>
            </a>
          {% endif %}
          {% if page.exercises %}
            <a class="toc-link" href="../../../{{ include.chapter }}/exercises/{{ page.slug | replace: '-','_' }}.php">
              <i class="fa fa-recycle"></i>
            </a>
          {% endif %}
          {% if page.solutions %}
            <a class="toc-link" href="../../../{{ include.chapter }}/solutions/{{ page.slug | replace: '-','_' }}.php">
              <i class="fa fa-check"></i>
            </a>
          {% endif %}
        {% endif %}
      </li>

    {% endfor %}

  </ul>
</div>